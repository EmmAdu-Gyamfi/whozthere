@page "/Tenantdetails/{id:int}"
@using Newtonsoft.Json
<PageTitle>/Tenantdetails</PageTitle>
@inject HttpClient Http
@inject NavigationManager NavigationManager



<p class="text-2xl font-bold text-gray-900 dark:text-gray-900 ml-[50px]">Details of @person.Lastname @person.Othernames</p>

<div class="flex items-start">

    <div class="grid grid-cols-2 gap-9 m-5">
        <div class="flex">
            <a href="#" class="bg-gray-300 focus:ring-4 focus:outline-none focus:ring-gray-300 text-white rounded-lg flex  items-center justify-center px-3 py-2.5 dark:bg-gray-300  dark:focus:ring-gray-300">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-door-closed-fill" color="#1b2c3f" viewBox="0 0 16 16">
                    <path d="M12 1a1 1 0 0 1 1 1v13h1.5a.5.5 0 0 1 0 1h-13a.5.5 0 0 1 0-1H3V2a1 1 0 0 1 1-1zm-2 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2" />
                </svg>
            </a>

            <div class="col mt-[-5px]">
                <p class="text-lg font-semibold text-[#000000] dark:text-[#000000] ml-[20px]">Room Number</p>
                <p class="text-xs font-normal text-[#000000] dark:text-[#000000] ml-[20px]">@person.HouseNumber</p>
            </div>

        </div>

        <div class="flex">
            <a href="#" class="bg-gray-300 focus:ring-4 focus:outline-none focus:ring-gray-300 text-white rounded-lg inline-flex items-center justify-center px-3 py-2.5 dark:bg-gray-300  dark:focus:ring-gray-300">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" color="#1b2c3f" class="bi bi-telephone-fill" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z" />
                </svg>

            </a>

            <div class="col mt-[-5px]">
                <p class="text-lg font-semibold text-[#000000] dark:text-[#000000] ml-[20px]">Phone Number</p>
                <p class="text-xs font-normal text-[#000000] dark:text-[#000000] ml-[20px]">@person.PhoneNumber</p>
            </div>

        </div>

        <div class="flex">
            <a href="#" class="bg-gray-300 focus:ring-4 focus:outline-none focus:ring-gray-300 text-white rounded-lg inline-flex items-center justify-center px-3 py-2.5 dark:bg-gray-300  dark:focus:ring-gray-300">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" color="#1b2c3f" class="bi bi-envelope-fill" viewBox="0 0 16 16">
                    <path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414zM0 4.697v7.104l5.803-3.558zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586zm3.436-.586L16 11.801V4.697z" />
                </svg>


                 
            </a>

            <div class="col mt-[-5px]">
                <p class="text-lg font-semibold text-[#000000] dark:text-[#000000] ml-[20px]">Email</p>
                <p class="text-xs font-normal text-[#000000] dark:text-[#000000] ml-[20px]">@person.Email</p>
            </div>

        </div>

        <div class="flex">

            <a href="#" class="bg-gray-300 focus:ring-4 focus:outline-none focus:ring-gray-300 text-white rounded-lg inline-flex items-center justify-center px-3 py-2.5 dark:bg-gray-300  dark:focus:ring-gray-300">
                <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" fill="currentColor" color="#1b2c3f" class="bi bi-calendar-event-fill" viewBox="0 0 16 16">
                    <path d="M4 .5a.5.5 0 0 0-1 0V1H2a2 2 0 0 0-2 2v1h16V3a2 2 0 0 0-2-2h-1V.5a.5.5 0 0 0-1 0V1H4zM16 14V5H0v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2m-3.5-7h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5" />
                </svg>
            </a>

            <div class="col mt-[-5px]">
                <p class="text-lg font-semibold text-[#000000] dark:text-[#000000] ml-[20px]">Date of Birth</p>

                <p class="text-xs font-normal text-[#000000] dark:text-[#000000] ml-[20px]">@person.DoB</p>
            </div>
        </div>

        <div class="flex">

            <a href="#" class="bg-gray-300 focus:ring-4 focus:outline-none focus:ring-gray-300 text-white rounded-lg inline-flex items-center justify-center px-3 py-2.5 dark:bg-gray-300  dark:focus:ring-gray-300">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" color="#1b2c3f" class="bi bi-gender-ambiguous" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M11.5 1a.5.5 0 0 1 0-1h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V1.707l-3.45 3.45A4 4 0 0 1 8.5 10.97V13H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V14H6a.5.5 0 0 1 0-1h1.5v-2.03a4 4 0 1 1 3.471-6.648L14.293 1zm-.997 4.346a3 3 0 1 0-5.006 3.309 3 3 0 0 0 5.006-3.31z" />
                </svg>
            </a>

            <div class="col mt-[-5px]">
                <p class="text-lg font-semibold text-[#000000] dark:text-[#000000] ml-[20px]">Gender</p>
                <p class="text-xs font-normal text-[#000000] dark:text-[#000000] ml-[20px]">@person.Gender</p>
            </div>
        </div>


    </div>
</div>


@code {
    private Person person = new Person();

    [Parameter]
    public int id { get; set; }

    protected override async Task OnParametersSetAsync()
    {
        person = await LoadPerson();
    }



    public async Task<Person> LoadPerson()
    {
        HttpResponseMessage responseMessage = await Http.GetAsync($"api/person/{id}");

        if (responseMessage.StatusCode == System.Net.HttpStatusCode.OK)
        {
            var responseData = responseMessage.Content.ReadAsStringAsync().Result;

            var decentralizedPerson = JsonConvert.DeserializeObject<Person>(responseData);

            return decentralizedPerson;

        }
        else
        {
            return new Person();
        }
    }


}
